\section{Introduction}
A Vehicular Ad-Hoc Network, or VANET, is a form of Mobile ad-hoc network, to provide communications among nearby vehicles and between vehicles and nearby fixed equipment, usually described as roadside equipment. It will contribute to safer and more efficient roads by providing timely information to drivers and concerned authorities.
As all wireless networks, VANET can be easily subject to any kinds of security  attacks then, for ensure a good security, VANET needs an appropriate security architecture that should be based on different security aspects like: Threat model, Authentication and key management, Privacy, Secure positioning. We focused our work in on the  Authentication and Key management.\\
Our project was to implement a simple frame work for the simulation of secure messages exchange in VANET. The simulator is essentially based on  signing  messages before send them in network area, to be able to verify the integrity of any messages received from the network area. All the messages are sent in broadcast way in a limit area\\
The techniques used to provide these security features are essentially based on two mains approaches provided
 by\cite{calandriello} which are :
\begin{itemize}
\item BaseLine Pseudonyms,\\
In this aspect a considerable amount of certified public key called pseudonym  will stored in a vehicle, in order the ensure the privacy of the sender it will continuously change the public key certificate or pseudonym to sign a given amount of messages or to sign for a limited time this to avoid the sender to be retrieved by some receivers from a subsequent signed messages. These pseudonym should issued by a well known Certificated Authority in order to provide authentication.

\item Hybrib Scheme\\
This technique combines two approaches, coupling the pseudonym generation and the Group signature scheme.
Instead of stored the pseudonyms like in the previous case, the pseudonym  is generated on the fly when it want to send a message, it has to be sign by a group public key provided to any vehicle by some group manager in order to warranty the authentication between user of the same group.
\\
\url{http://www.sigmobile.org/workshops/vanet2007/slides/3.pdf}
\end{itemize}
These two techniques during the implatations has been subject to somes otpimization.
\section{Framework Introduction}
\subsection{Security Implementations}
Befere starting with real implementation of Vanet Simulator we want to focus on security methods. All this technology walk around three main task: authentication, message integrity and no-repudiation; for this reason this technology use asymmetric cryptography. At this time we have two principal techniques: RSA and Elliptic curves. At the begining of this project we have implemented the first technique with 1024 bit of securtity level because is ready to use in java platform. After few steps in this project we reach a lot of problem linked to the nature of this security implementation. In first analysis we have a real good time responses, see table \ref{tab:RSAVelocity} at page \pageref{tab:RSAVelocity}, for sign and verify and authority verification but on the other hand we reach network problems caused by packet dimensions.
\begin{table}[!ht]
	\centering
	\caption{RSA Speed Analysis}
	\begin{tabular}{|c|c|c|c|c|c|c|}
	\hline\hline 
	\textbf{Provider} & \textbf{Sign} & \textbf{Verify} & \textbf{CA verification} & \textbf{sign/s} & \textbf{verify/s}  & \textbf{CA verify/s}\\
	\hline
	Java2 1.6u14 & 0.009284s & 0.000521s & 0.000525s & 107.7 & 1919 & 1904 \\
	\hline
	\hline     %inserts single line 
 	\end{tabular} 
	\label{tab:RSAVelocity}
\end{table}
\subsection{From RSA to EC}
If we consider to send on netowork beacons of 200 bytes with RSA technique we have an enormous crypyography overhead, see table \ref{tab:RSAOverHead} at page \pageref{tab:RSAOverHead}.
\begin{table}[!ht]
	\centering
	\caption{RSA Cryptography Overhead}
	\begin{tabular}{|c|c|c|}
	\hline\hline 
	\textbf{Payload} & \textbf{Signature} & \textbf{Certificate}\\
	\hline
	200 & 128 & 1029 \\
	\hline
	\hline     %inserts single line 
 	\end{tabular} 
	\label{tab:RSAOverHead}
\end{table}
Before passing to Elliptic curves we check a solution on this technology, infact the real problem is the signature length and more of all certificate length. If we want 1024 bit of security level we can not modify signature length but we can working on certificate length, we have constructed a X509 striped certificate for reduce dimension of packet removing all not useful information from certificate. After this step we have reduced dimension to 750 bytes, too big yet. The real problem is length of public key inside certificate and we can not work on that.\\
At this point we have decided to passed on elliptic curves because we are not able to explain motivation of RSA using in this project.
\subsection{Role of Certification Authority and CRL}
Certification authority and CRL for Vanet Simulator is actually a point of discussion\cite{calandriello}. Vanet Simulator implement only one CA and not use certicate revocation list. In particular the positioning of CA and CRL is really difficult for Vanet and for simplicity at this this time the Simulator use only one CA for all vehicle. 
\subsection{Output Reading}
Vanet simulator have only a log system for show information, this lines are levelled on five states:
\begin{itemize}
	\item trace
	\item debug
	\item warn
	\item error
	\item fatal
\end{itemize}
More in general this implementation can represent information with three methods, directly on your screen using \textit{stdout} or put all into a new file or store all information on a database table. All log system show the same information but with different organization, a tipical stdout representation is:
\begin{verbatim}
07:22:22,870 [1632] [Veichle - 1] (new line for readability reasons)
	DEBUG vanet.Vehicle:105 - (new line for readability reasons)
		Veichle 1 position, x=37 y=20(new line for readability reasons)
		
07:22:22,870 [1632] [Veichle - 1] (new line for readability reasons)
	DEBUG vanet.Vehicle:108 - (new line for readability reasons)
		Vehicle 1 send new message(new line for readability reasons)
		
07:22:22,905 [1667] [Veichle - 2] (new line for readability reasons)
	DEBUG vanet.Vehicle:105 - (new line for readability reasons)
		Veichle 2 position, x=53 y=50 (new line for readability reasons)
\end{verbatim}
All lines are written with the same logic, in particular start with the time using format: hour, minutes and seconds followed by microseconds. After that into square brackets you have the number of milliseconds elapsed since the start of program, follewed by the name of class which execute log, always into square brackets. In upper case you have the level of log, followed by the complete name of class followed by double dots and the line of program execution. After that a free text message which inform you on operations, like state changes or errors.\\
Logging into file system follow the same representation and database implementation instead use one table organized in five fields, see table \ref{tab:DBLog} at page \pageref{tab:DBLog}.
\begin{table}[!ht]
	\centering
	\caption{Database table for logging system}
	\begin{tabular}{|c|c|c|c|c|}
	\hline\hline 
	\textbf{Log identification} & \textbf{Level of log} & \textbf{Class name} & \textbf{Method name} & \textbf{Free message}\\
	\hline
	\hline     %inserts single line 
 	\end{tabular} 
	\label{tab:DBLog}
\end{table}
Log identification is an unique number for log entry, other fields is the same of other log methods.
\subsection{Vehicle moves}
The system simulate vehicle moves, this implementation is really simple because simulator do not understard if two vehicle impact or is in a particular position. Vanet simulator move all vehicle on wireless area using the velocity information for computed how many cell of WIFI have to jump. Vehicle moves are only in horizontal, from left to right, no other moves are computed at this time.\\
If a vehicle go out of the wireless area remain in this condition for one cicle and not trasmitt and receive, after this cicle re-enter into WIFI with 180 degree of rotation, \textit{y} coordinates do not change.